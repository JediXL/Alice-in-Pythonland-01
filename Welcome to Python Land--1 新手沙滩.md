![[Pasted image 20220906155749.png]]

# 新手沙滩

> 海浪拍击的声音传进耳朵，将意识逐渐推出了黑暗，爱丽丝缓缓睁开眼睛，阳光刺眼，只看到一片模糊的景象。她努力坐起身，揉了揉太阳穴，试图的适应周围的光线。视力慢慢清晰，爱丽丝发现自己在一片白色的沙滩，身体的每个部位都在述说着不适。
>
> 记忆支离破碎，“我在哪里？” 爱丽丝乏力在脑海中搜寻线索，就像她常常在夏日午睡后刚醒来时那样，但是脑海里空空如也，什么都没办法抓住。靠着双手的支撑，爱丽丝慢慢的站起身，沙滩后是茂密的树林，不时传来动物的叫声。“什么东西在森林里？大概是吼猴吧”。爱丽丝心想，又马上打断了自己的思绪，“这不重要，爱丽丝，快点搞清楚你在哪里。”  沿着沙滩走了几步，爱丽丝又停了下来，“这是到底是哪里？”，爱丽丝全然没有头绪。
>
> “您好，女士，我想你可能需要一个向导。”
>
> 爱丽丝带着惊喜环顾四周，但是一个人影也没看到。声音的位置并不远，或者说好像就在身边。“女士，你在看哪里，我就在你肩上。” 爱丽丝侧头看了下自己的肩膀，一条黑色小蛇与她面面相觑。爱丽丝尖叫起来，挥舞的双手与踉跄的脚步让爱丽丝重新坐在了沙滩上。不远处，慌乱中被甩出的小蛇很快恢复了姿态，缓缓的来到爱丽丝跟前，爱丽丝双腿不听使唤，“刚刚我还以为脖子上的东西只是海草，怎么会是一条蛇。我被咬中了吗，没关系，不是所有的蛇都有毒。” 爱丽丝安慰自己，但心脏依然狂跳不止。
>
> “女士，我不是那种死缠烂打的向导，如果你不需要我为你提供服务，你只需要告诉我就好了。我会自己找个地方继续睡觉。” 那条蛇有点生气，但表情带着笑容。“一条会说话的蛇？” 爱丽丝有点反应不过来，“会说话的蛇有毒吗？不对，我没有听过蛇可以说话。鹦鹉可以，八哥也可以，但蛇好像不行。” “我想你应该先给我说句抱歉，不过算了。”小蛇说到，“我发现你在沙滩上睡觉，像是新来的，所以觉得你醒来后可能需要向导服务。” 爱丽丝心想：“我大概在做梦吧，但梦里应该不会感觉到疼才对，但是现在我可以感觉到自己身上有100个地方在疼，不对，可能有1000个地方也说不定。” 
>
>  “你...你会说话？” 好不容易，爱丽丝才鼓起勇气发出了尖叫以外的声音。“当然，我还会唱歌，不过会的歌不多。” 小蛇回答到。爱丽丝说：“好...好的，小蛇，我想我是第一次遇到会说话的蛇，你能告诉我这是什么地方吗？哪里可以买到车票或者船票，我想我要赶紧回去才行？” “比起小蛇，我更愿意你叫我劳伦斯” 劳伦斯缓缓的说到，“你果然是新来的，这里是狂蟒大陆(Pythonland)，超酷。” “好的劳伦斯...我不知道我为什么会在这里，我现在只想快点回到我之前的地方。”  “你来之前在哪里？”劳伦斯问，“就在...就在...完了，我什么都想不起来。” 爱丽丝回答到，语气里充满了焦虑。“好的，你不知道你从哪里来，这没关系，因为离开狂蟒大陆的路只有一条，路有点远...而且...” 劳伦斯第一次收起了笑容。“狂蟒大陆？我好像从来都没有听说过这个地方，我想不起我怎么来到了这里，你能好心的给我讲讲关于狂蟒大陆的信息吗？”爱丽丝问到。“没问题，女士，不过你怎么称呼？” “我叫爱丽丝。” “好的，爱丽丝，我来给你聊聊这个地方。” 劳伦斯说到，并且又恢复了笑容。

![[Pasted image 20220906155818.png]]


## Python 起源与发展

Python的创始人是荷兰人吉多·范罗苏姆（Guido van Rossum），在Python官网上存储着吉多1996年为马克·鲁茨（Mark Lutz）书籍《Programming Python 1st ed.》所写的引言部分，他提及的那个无聊的假期被大家广泛认为是Python的起源。

>Over six years ago, in December 1989, I was looking for a "hobby" programming project that would keep me occupied during the week around Christmas. My office (a government-run research lab in Amsterdam) would be closed, but I had a home computer, and not much else on my hands. I decided to write an interpreter for the new scripting language I had been thinking about lately: a descendant of ABC that would appeal to Unix/C hackers. **I chose Python as a working title for the project, being in a slightly irreverent mood (and a big fan of Monty Python's Flying Circus)**.

吉多自述道，”在1989年的12月，我在寻找一门课余编程项目来打发我的圣诞假期。但是我的办公室要法定休息，好在我有一台家用电脑，虽然它也仅是我手头为数不多的可利用之物了。我决定为我当时正在构思新脚本语言写一个解释器，它是ABC语言的后代，他将吸引UNIX/C程序设计师。我之所以选择‘Python’作为这个项目的名称是因为我是《巨蟒剧团之飞翔的马戏团》的狂热粉（带着点些许的不敬之心）“

对于中国读者来说蒙提·派森（Monty Python，也作 The Pythons，又译为巨蟒剧团等）可能并不熟悉，他们是英国的超现实幽默表演团体，他们所创作的英国电视喜剧片《巨蟒剧团之飞翔的马戏团》共推出了4季，共45集。在这部短剧中不时加插自行创作的动画，使这部短剧增添了与当时一般剧作别具一格的表现手法，这部剧也革新了电视喜剧模式发展，一定程度影响了日后的英国喜剧。因为Python一词有巨蟒一意，所以如今市面上众多Python书籍的封面也都盘踞着各式各样的蟒蛇。（图为巨蟒剧团）

![[Pasted image 20220906164505.png|600]]

对于吉多来说，他不仅追星成功，还通过Python的爆火让更多人认识了巨蟒剧团。同时正如吉多自述所提到的，Python并不是如诸多营销号口中一般是一门“年轻的语言”，它发源于Python发源于上个世纪80年代末90年代初，快速爆红于2015年左右，近几年增速迅猛并于2019年左右登顶《PYPL PopularitY of Programming Language》排行榜并持续霸榜至今。

>https://pypl.github.io/PYPL.html

![[Pasted image 20220906162903.png|600]]

## 为什么是Python

Python爆火之后随之而来的是铺天盖地的广告，在他们的描述中学习Python既是年薪翻倍的缘由，也是让同事对你刮目相看的起因。“8块9买不了吃亏上当，3分钟搞定Python“的口号似乎预示着Python并没有多难。虽然口号浮夸，但也的确揭示了Python能迅速蹿红的潜在原因：**对初学者友好。** Python有着比较奇特的难度曲线，如下图所示它在初学阶段几乎是一马平川，随之而来的则是如过山车般的极速爬升。这不仅预示着Python是一门初学者友好的语言，也预示着这是一门极容易“从入门到放弃”的语言。

![[Pasted image 20220906165920.png|600]]

Python迅速蹿红的第二个潜在原因来源于Python完备的、活跃的社区，我们称之为**轮子多。** 在Python自身发展过程中社区活跃的贡献者们创造了无数堪称精品的库和包，当你想完成某个任务时并不需要重新去写，只需要做一个“伸手党”并稍加修改就能实现你的既定功能。这也就对应了互联网企业常说的“不要重复发明轮子”。

第三个潜在原因则更倾向于“天时”，人工智能产业很大程度上是靠数据驱动的产业，随着AI产业的迅速崛起，数据分析和处理则成为重中之重。得益于Python的某些设计理念和规则，Python是处理数据的一把好手，至少Python处理数据相对容易，所以Python能够搭借人工智能的东风顺势起飞。

## Python的优劣

Python除了足够流行外，还具备其他一些优势。 
* Python是一种较好的通用高级语言。它的设计特性使得Python具备较好可读性的同时也具备了较好的可写性
* Python相对较为简洁。与一些静态语言相比，在实现相同功能时Python程序的规模往往更小
* Python是免费的。你可以利用Python在任何地方随意书写你的程序
* Python具有大量的标准库和第三方库

当然Python不是万能的，在某些场景下并不适合使用Python
* Python并不是预装在每一台设备中的
* 与C语言、Java语言相比，Python的执行速度并没有优势
* Python 2.x和Python 3.x版本并不完全兼容
* Python并发编程中可能遇到的困难


## 学了Python能干什么

当学习Python不能让你薪资超级加倍时，或许我们得想一想，那我们学Python干什么呢？

笔者曾经长期与所谓“用户“打交道，所以特别喜欢八卦用户的内心。曾经有一段时间笔者热衷于和专车司机或者外卖派送员聊天，在交谈之中笔者发现一个有趣的现象，这些被所谓派单算法“支配”着的劳动者们会将这些普罗大众眼中冰冷的算法看作是情绪多变的人。“一定是系统昨天给我派了几个单子我没接，所以这个系统肯定生气了，今天派的单子都xx的很差“，一位美团小哥如是说。不可否认的是很多类似行业的从业者并不清楚系统的派单原理，他们只能在算法的“压榨”之下辛勤付出，有时必要权益还无法得到保障。

学习Python就像是学会如何使用螺丝刀，你可以通过编程思维/算法思维的训练，亲手打开当今信息化社会，或者是“算法社会”的黑盒，亲自探索信息化社会运行背后每一个齿轮运转的细节，从而对信息化风潮有更精准地感知和理解。

在上世纪80年代，很多单位还都有一个“打字员”的职位，如今看起来有点搞笑的职业在当时却是“高精尖”的代表。随着信息时代的推进，打字从少部分人需要掌握的技能变成了大多数人都需要掌握的技能，那打字员这一职位也就被时代抛弃了。如今Python已经不是专业编码人员、科研人员等才能掌握的独家秘笈，当Python“飞入寻常百姓家”时，在越来越多岗位都将一定的编程能力作为基本技能要求时，学习Python或许能够帮助我们保住饭碗。

## 学习方法与目标

本书的教学方法遵循“**第一性理论**”，我们将首先回归事物的最基本条件，先建立Python的大框架，随后将各要素进行解构分析，将他们作为枝叶添加到主干之上。

本书希望能够通过Python帮助读者构建对编程的理解力，具备一定的编程思维。同时我们也希望能够通过本书帮助读者从Python走向任何一门编程语言（From Python to Any Language），即便有一日Python走下神坛，具备编程思维的各位读者也能够轻松掌握编程语言的学习方法，做到一通百通。

## 两个基础问题

在学习Python之前，有两个必须明晰的基础问题，就像新手教学任务必须要过的两个基本关卡：
* 什么是计算机？
* 什么是编程？

对于第一个问题的答案，史蒂夫·保罗·乔布斯（Steven Paul Jobs）早年间的采访中有这么一段话：
>I read an article when I was very young, in the Scientific American, and it measures the efficiency of locomotion for various species on the planet, so for you know for bear, chimpanzee, raccoons and  birds, and fish, how many calories per kilometer they spend to move, and humans was measured too. The condor won, it was the most efficient, and the mankind, the crowned creation, came in with rather unimpressive showing about 3rd way down the list. But somebody there had the brilliance to test a human riding a bicycle, blew away the condor, all the way off the charts, and I remember this really had an impact on me, I really remember this - humans were tool builders, and we build tools that can dramatically amplify our human abilities. To me, we actually went an ad line earlier with Apple, that **the personal computer was the bicycle of mind**. And I believe that with every bone in my body, that of all the inventions of humans, the **computer is going to rank near**, if not at the top, as history unfolds if we look back, and **it is the most awesome tool that we ever invented**.
Steve Jobs: The Lost Interview

>我小时候读过《科学美国人》杂志的一篇文章，杂志比较了地球上不同物种的移动效率，比如熊、猩猩、浣熊、鸟类、鱼类等，计算它们每移动一公里消耗的热量，还有人类。最后秃鹫赢了，它的移动效率最高，作为万物之灵的人类，排在倒数第几位。但是杂志特地测量了人类骑自行车的效率，结果把秃鹫远远甩在了身后，在排名上遥遥领先。这篇文章给我留下了深刻的印象，**人类擅长发明工具，工具赋予我们奇妙的能力**。苹果以前有一条广告：**计算机是思想的自行车**。我坚信如果将来回顾人类历史，计算机将是人类最伟大的发明之一。
>《乔布斯：遗失的访谈》

对于第二个问题，我们罗列了一些语句作为参考：
>"Do this; then do that"
>"If the condition is ture, perform this action; otherwise, do that action."
>"Do this action that number of times"
>"Keep doing that until this condition is Ture"

>"先做这个，再做那个"
>“当满足条件时做这个，否则做那个”
>“在某段时间内做这个“
>”当这个条件成立时就一直做这个“

当然这些指令都是对计算机说的。

## Python的安装与配置

我们想在计算机上编写Python程序，就需要在电脑上配置Python环境，可以通过访问Python的官网（python.org）的Downloads模块下载Python安装包，本书将以Python 3.6及以上版本进行讲解。

![[Pasted image 20220906181926.png]]

当我们安装好Python之后就要选择我们的练武之地了，也就是适合Python的各种编辑器，编辑器的功能说直白些就是**在哪里写和运行Python**。其实我们在各个系统的“终端”都可以直接运行Python程序或编写Python代码，如在Windows系统的command prompt或Mac系统中的terminal中直接键入python（或python3）都会显示python的相关信息，并且出现“>>>”,此时你就可以在这里编写代码了。

使用安装Python时自带的Python IDLE也可以完成代码编写和运行的工作，但是显然这样的方式并不够酷，因为颜值不够高，功能也不够实用。因此在这里笔者推荐两种较为常用的Python编辑器。第一种是*Jupyter Notebook*，其官方网站中也介绍了如何安装和使用，Jupyter Notebook所支持的语言和应用场景都十分广泛。首先它能够支持**代码高亮**，也就是根据代码特性，将该代码中的关键字进行着色等操作，提升代码的可读性。其次，它是一种**交互式编程工具**，可以实时反馈变量的状态和代码运行的结果。当然作为一款成熟的工具，社区内也有大量的可定制内容，如主题、字体等。
>https://jupyter.org

第二种编辑器是*Visual Studio Code* (VS code)，作为一款轻型桌面端代码编辑器它同样支持**语法高亮、括号补全**等常见功能，此外他还对部分编程语言支持**代码补全**。用户同样可以更改主题、键盘快捷方式、外观字体等实现个性化设置，同时VS code拥有丰富的插件市场帮助用户拓展团建功能。
>https://code.visualstudio.com

以上两种编辑器实质上体现了Python程序开发中常见的两种编程方式*交互式编程*和*文本式编程*。前者提供即时反馈，可以较方便的查看当前变量信息和输出结果，在前期练习和小型程序设计阶段非常实用，但不适用于大型程序设计的实现。后者文本编程方式对大型程序较为友好，但是只有完全编写完成再运行才能输出结果，且运行过程中的变量信息和部分结果需要利用debug等手段才能查看。读者在其他书籍中见到的代码示例中若有>>>出现，一般代表交互式编程方式。若为.py后缀结尾的文件，一般代表文本式编程方式。二者各有优劣，各位按需索取。此外还有大量优秀的编辑器笔者并未介绍，如PyCharm、Sublime Text、IPython等，各位读者也可以自行了解其中特性进行选择。

在这里还藏有笔者的一点私心，笔者希望读者在进行Python编码时尽量使用等宽字体来进行编码，这样可以使我们的代码更具可读性。下图展示了常用比例字体和等宽字体的区别。在这里笔者也推荐自己较为喜欢的三种等宽字体：Fire Code、Source Code、Space Mono

![[Pasted image 20220906182440.png|300]]

## 第一行代码

大多数编程语言教材的第一行代码都是“hello，world”，而你的第一行代码何必相同，请在你的编译器中输入以下代码并运行，这就是这本教材的第一行代码

```python 3
import this
```

你会看到如下输出结果

>The Zen of Python, by Tim Peters 
>Beautiful is better than ugly. 
>Explicit is better than implicit. 
>Simple is better than complex. 
>Complex is better than complicated. 
>Flat is better than nested. 
>Sparse is better than dense. 
>Readability counts. 
>Special cases aren't special enough to break the rules. 
>Although practicality beats purity. Errors should never pass silently. 
>Unless explicitly silenced. 
>In the face of ambiguity, refuse the temptation to guess. 
>There should be one-- and preferably only one --obvious way to do it. 
>Although that way may not be obvious at first unless you're Dutch. 
>Now is better than never. 
>Although never is often better than right now. 
>If the implementation is hard to explain, it's a bad idea. 
>If the implementation is easy to explain, it may be a good idea. 
>Namespaces are one honking great idea -- let's do more of those!

>Python之禅
> 优美胜于丑陋（Python 以编写优美的代码为目标）   
  明了胜于晦涩（优美的代码应当是明了的，命名规范，风格相似）   
  简洁胜于复杂（优美的代码应当是简洁的，不要有复杂的内部实现）   
  复杂胜于凌乱（如果复杂不可避免，那代码间也不能有难懂的关系，要保持接口简洁）   
  扁平胜于嵌套（优美的代码应当是扁平的，不能有太多的嵌套）   
  间隔胜于紧凑（优美的代码有适当的间隔，不要奢望一行代码解决问题）   
  可读性很重要（优美的代码是可读的）   
  即便假借特例的实用性之名，也不可违背这些规则（这些规则至高无上）   
  不要包容所有错误，除非你确定需要这样做（精准地捕获异常，不写 except:pass 风格的代码）   
  当存在多种可能，不要尝试去猜测   
  而是尽量找一种，最好是唯一一种明显的解决方案（如果不确定，就用穷举法）   
  虽然这并不容易，因为你不是 Python 之父（这里的 Dutch 是指 Guido ）   
  做也许好过不做，但不假思索就动手还不如不做（动手之前要细思量）   
  如果你无法向人描述你的方案，那肯定不是一个好方案；反之亦然（方案测评标准）   
  命名空间是一种绝妙的理念，我们应当多加利用（倡导与号召）

这一段被称为The Zen of Python的内容向我们阐释了Python所应该有的编程准则，也是我们在踏入Python大陆时就被告知的Pythonic风格。以这样的要求准则作为第一行代码也希望读者能在学习过程中时常回看，常看常新。选择这样的语句作为第一行代码的第二个理由是它体现了我们在Python学习过程中要善于做“伸手党”的原则，import 语句就是用来导入其他Python模块的，达到代码复用的目的。

## 你并不是零基础

在踏上Python大陆之前其实你有了学习Python和编程的一些必备基础，只是你并没意识到，接下来会让你觉醒某些技能，然后我们将开始探索这片神奇的大陆。（注：本书假设读者没有其他编程语言学习基础，这里的必备基础并不是来自于学习其他编程语言的经验）

我们从这样一个语句开始回忆：

```python 3
3 * 3
```

在数学中这是一个简单的算式，各位读者应该也能够轻易得到上述算式的结果，在Python程序中这个语句我们称之为**表达式**， 我们在编程过程中写的所有语句都是一种表达式，当Python运行时，编译器会进行推导，将我们的表达式变为某种值，当然在这个例子中得到的值就是数值9。

或许这有些简单了，让我们升级难度

```python 3
(3 + 1) * 2
```

和第一个表达式相比，这个表达式表达的重点就是**顺序**，我们都知道在数学运算过程中“括号先行”的原则，在Python运行的过程中表达式的执行同样有一定的顺序要求。当你知道了什么是表达式，了解在表达式的执行是有顺序的时候，你已经有了学习Python所必备的基础。

## print( )输出函数

当我们想把一些内容打印输出时，我们就需要print( )输出函数，它是Python中最常见的一个函数，我们写上print关键字，括号，然后里面放上你想程序输出的东西，这样当我们运行时，程序就可以将内容输出了。（注：Python 2.x版本和3.x版本的输出函数存在差异）

```python 3
print("My name is Alice")
print("I have a 52 Hz voice")
print("I am 50 years old")
print("I wish I can make some friends")
```

这个语句背后其实是一个比较悲凉的故事，讲述了一头世界上最孤独鲸鱼的故事。抛开故事本身，如果到了明年这头鲸鱼年龄增长，也有了新的愿望，我们怎样修改这段语句呢？逐字修改当然可行，但是这确实是一种比较低效的方法，为了让程序更具可读性，让程序容易修改，我们需要引入**变量**这个概念。

	思考题：以上的输出都很“无聊”，请尝试利用Python语句输出emoji表情

## 变量

我们对上述代码进行优化，将它变成用变量表示的方式

```python 3
name = 'Alice'
voice = 52
age = 50
wish = 'I can make some friends'

print('*' * 10 + ' What Alice say ' + '*' * 10)
print("My name is " + name)
print(f"I have a {voice} Hz voice")
print(f"I am {age} years old")
print("I wish " + wish)
```

我们会得到以下结果
>\*\*\*\*\*\*\*\*\*\*What Alice say \*\*\*\*\*\*\*\*\*\*
>My name is Alice 
>I have a 52 Hz voice 
>I am 50 years old 
>I wish I can make some friends

其中name、 voice、age、wish就是我们所谓的变量，我们可以很轻易地通过修改他们来修改输出语句的结果。在这段程序中我们还看到了乘号‘\*’和加号‘+’的妙用，这点我们会在后面详细介绍。

那到底什么是变量呢？实质上变量就像是一个纸盒或者标签，假定我们有一个变量名为x，当我们把3放入这个盒子中时，x所对应的value就是3。如果我们又写了一句x=6，那这时候就好像是把3拿出来了，把6放进去，这时候x就不再与3对应，而与6相对应。

变量的定义方法既可以通过上文所说的等号‘=’直接赋值外，也可以将表达式的运行结果赋值给某一个变量。

```python 3
x = 3
y = 5.2
z = x + y

print(x)
print(y)
print(z)
```
## 练习
* print( )的作用是什么？
* import 的作用是什么？
* 如下程序输出的结果分别是什么？
```python 3
x = 1
y = 2
z = 3

print(x + y + z)
```

```python 3
x = 1
y = 2
z = 3

print(x + y * z)
```

```python 3
x = 1
y = x
y = 4

print("x = ", x)
print("y = ", y)
```

* 如何得到如下输出结果？(可以使用多个print语句)

>\=\=\=\=\=\=\=\=\=\=Hello, Python\=\=\=\=\=\=\=\=\=\=
>I wanna say -> 'hello world'
>\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=

